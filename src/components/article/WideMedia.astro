---
interface Props {
  contain?: boolean;
  extraWide?: boolean;
}
---

<article
  class:list={[
    "wide-media col-span-full w-full mx-auto rounded overflow-hidden",
    Astro.props.extraWide ? "max-w-7xl" : "max-w-5xl",
    Astro.props.contain ? "object-fit-contain" : "object-fit-cover",
  ]}
>
  <slot />
</article>

<style>
  .wide-media:not(.object-fit-contain) :global(> *) {
    object-fit: cover;
    width: 100%;
    height: 100%;
    aspect-ratio: 16/9;
  }
  /* applying the object-fit filter to descendants too */
  .wide-media.object-fit-contain :global(> *) {
    object-fit: contain;
  }
  .wide-media.object-fit-cover :global(> *) {
    object-fit: cover;
  }
</style>
